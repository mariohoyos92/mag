!function(e){"use strict";function t(){e(".cover .scroll-down").is(":hidden")?e(".post-header .cover-bg").css({top:0}):e(".post-header .cover-bg").css({top:e(".site-header").outerHeight()})}e(document).ready(function(){e(".contact-link").on("click",function(t){t.preventDefault(),e("body").toggleClass("sidebar-opened"),e(".sidebar .sidebar-scrollable").scrollTo("#contact_name",200),e("#contact_name").focus()}),e(".subscribe-link").on("click",function(t){t.preventDefault(),e("body").toggleClass("sidebar-opened"),e("#subscribe_email").focus()});var n=function(t){e("#"+t+" .messages li").remove(),e("#"+t+" .messages").hide()},o=function(t){e("#"+t+" input").val(""),e("#"+t+" textarea").val("")},c=function(t){e("#"+t+" .messages li.loading").remove()};e("#contact_submit").on("click",function(t){n("contact_form");var a=JSON.stringify({contact_name:e("#contact_name").val(),contact_email:e("#contact_email").val(),contact_body:e("#contact_body").val()});e("#contact_form .messages").show().append('<li class="loading"><i class="fa fa-spinner fa-spin"></i></li>');var s=function(){n("contact_form"),o("contact_form")},i=function(){e("#contact_form .messages").append('<li class="success"><i class="fa fa-check-circle"></i>Your message has been sent.</li>').fadeIn("fast",function(){setTimeout(function(){s()},3e3)})},r=function(t){e("#contact_form .messages").show().append('<li class="error"><i class="fa fa-exclamation-circle"></i>'+t.message+"</li>")};e.ajax({type:"POST",url:"/contact_form",contentType:"application/json",dataType:"json",data:a}).done(function(){o("contact_form"),i()}).fail(function(e,t,o){var c=JSON.parse(e.responseJSON);n("contact_form"),r(c)}).always(function(e,t){c("contact_form")})}),e("#newsletter_submit").on("click",function(t){n("newsletter_form");var a=JSON.stringify({email:e("#newsletter_email").val()});e("#newsletter_form .messages").show().append('<li class="loading"><i class="fa fa-spinner fa-spin"></i></li>');var s=function(){n("newsletter_form"),o("newsletter_form")},i=function(){e("#newsletter_form .messages").append('<li class="success"><i class="fa fa-check-circle"></i>Signup Success.</li>').fadeIn("fast",function(){setTimeout(function(){s()},3e3)})},r=function(t){e("#newsletter_form .messages").show().append('<li class="error"><i class="fa fa-exclamation-circle"></i>'+t.message+"</li>")};e.ajax({type:"POST",url:"/newsletter_form",contentType:"application/json",dataType:"json",data:a}).done(function(){o("newsletter_form"),i()}).fail(function(e,t,o){var c=JSON.parse(e.responseJSON);n("newsletter_form"),r(c)}).always(function(e,t){c("newsletter_form")})}),e("#contact_form input").keypress(function(t){13==t.which&&(t.preventDefault(),e("#contact_submit").trigger("click"))}),e("#contact_form textarea").keypress(function(t){13==t.which&&(t.preventDefault(),e("#contact_submit").trigger("click"))}),e("#newsletter_form input").keypress(function(t){13==t.which&&(t.preventDefault(),e("#newsletter_submit").trigger("click"))}),e(".post-content").fitVids(),e(".cover .scroll-down").on("click",function(t){e("html, body").animate({scrollTop:e(".cover").height()},800),t.preventDefault()}),e(".site-footer .top-link").on("click",function(t){e("html, body").animate({scrollTop:0}),t.preventDefault()}),t(),e(window).bind("resize orientationchange",function(){t()}),e(".sidebar-toggle, .overlay").on("click",function(t){e("body").toggleClass("sidebar-opened"),t.preventDefault()})})}(jQuery);